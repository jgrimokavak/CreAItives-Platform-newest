# Prompt for Replit — Enhance **Video Gallery** (modify existing gallery): Project Archive/Delete, Duplicate, Reorder
## Extended Context
We are enhancing the **existing Video Gallery** (the view shown in the screenshots with project rows like “Test project 1–3” and “Unassigned”, filters for **Status**, **Date Range**, **Search Prompts**, and expandable project sections that reveal video cards with status badges like “completed”). 
All changes must be **modifications to this current Video Gallery**. Do **not** create new pages/routes/components, and do **not** add controls to the Create Video panel.
Before coding, **review the existing Video Gallery implementation** (components, state/store, routing, and API calls) and plan how the improvements below fit into it.
## Goals (User Outcomes)
1) **Archive / Delete Projects**
Archive (soft-delete) a project from the Video Gallery list; it disappears from the default view.
Restore archived projects when “Show archived” is enabled.
Permanently delete a project via a confirmation flow, with an optional checkbox to also delete its videos/assets.
2) **Duplicate Project**
Duplicate any project from the gallery for iteration.
New name format: **“Copy of {Original Name}”** (append a counter on conflicts).
Copy **settings only** by default (copying videos is optional if already straightforward).
3) **Reorder Projects**
Drag-and-drop to reorder project rows in the gallery.
The custom order **persists** after reload.
## Placement & UX (match current visuals)
Keep the existing **filter bar** (Status / Date Range / Search Prompts / Clear Filters) unchanged.
For each **project row header** (the collapsed/expandable header that shows name, description, and “X videos”):
Add a **project actions** overflow (⋯) with:
“Open”
“Duplicate project”
“Archive project…”
Divider
“Delete permanently…” (danger)
If the project is expanded, this menu should also be reachable without disrupting the existing grid of video cards.
Add a small **“Show archived”** toggle near the filter bar (off by default). When enabled:
Archived projects appear in the list with a subtle **Archived** badge and are non-primary by default (e.g., slightly muted).
Provide **Restore** from the same overflow menu.
**Archive flow**: perform instantly and show a toast/snackbar with **Undo** (restores within ~30s).
**Delete permanently**: confirmation modal with **type-the-project-name** field and an **unchecked by default** checkbox: “Also delete videos and assets (irreversible).”
**Reorder**: enable drag handles on **project rows** (not video cards). Keep keyboard fallback (move up/down) for accessibility.
Preserve the **expand/collapse** behavior and the **video count chip** (e.g., “7 videos”). Reordering should not interfere with per-project expanded state.
## Data / API (high-level; reuse what exists)
Archive = set a soft-delete flag (e.g., `deleted_at`).
Restore = clear the flag.
Hard delete = remove the project; if the checkbox is selected and supported, also remove associated videos/assets.
Duplicate = insert a new project with cloned metadata; apply name pattern; select/highlight the new project in the gallery.
Reorder = persist a stable ordering field (e.g., `order_index`) so the gallery respects custom order across sessions.
## Non-Goals / Guardrails
**Modify only the current Video Gallery**; do **not** create a new gallery or route.
Do **not** add project controls to the Create Video panel.
Leave Image and Car galleries untouched.
Keep existing styles, spacing, and test IDs consistent with the current Video Gallery.
## Acceptance Criteria
**Archive**
Archiving a project removes it from the default gallery; **Show archived** reveals it with an **Archived** badge.
**Undo** restores the project to its previous position and expanded/collapsed state when possible.
**Delete permanently**
Requires name confirmation; optional “also delete assets” checkbox.
Success removes the project from all views (including archived).
**Duplicate**
Creates a new project instantly using the **Copy of …** naming convention (with counters on repeats).
The new project is visible in the list and can be opened immediately.
**Reorder**
Drag-and-drop reorders project rows and **persists** across reloads.
**Scope isolation**
No new gallery or routes were created; only the existing Video Gallery was enhanced.
The existing filter bar and video cards remain visually and functionally consistent.
## Accessibility & Performance
All actions are keyboard-accessible; DnD has a keyboard fallback.
Reordering and toggling archived are smooth with no noticeable jank.
## Telemetry (if available)
Emit: `project_archived`, `project_restored`, `project_deleted_hard`, `project_duplicated`, `project_reordered` with relevant IDs.
**Before implementation**: review the current Video Gallery code and confirm in the PR description how you will integrate these features into the existing components (no new gallery).