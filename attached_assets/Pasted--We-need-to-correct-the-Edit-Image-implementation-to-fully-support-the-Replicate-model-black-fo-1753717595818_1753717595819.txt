```
We need to correct the Edit Image implementation to fully support the Replicate model `black-forest-labs/flux-kontext-max` using its official schema.

Right now the frontend sends a `mask: null` field which is causing validation to fail, even though the model does not support a `mask` input at all.

### Required Fixes

1. ✅ **Remove `mask` from the payload entirely** when the selected model is `flux-kontext-max`.
   - Do not include `"mask": null`, `"mask": undefined`, or any other variant.
   - Only send the fields defined in the schema (see below).

2. ✅ **Update the schema for `flux-kontext-max`** in `shared/schema.ts` (or wherever model-specific validation is defined):
   - The schema must match this:

   ```ts
   z.object({
     prompt: z.string().min(1).max(32000),
     input_image: z.string().url().optional(),
     aspect_ratio: z.enum([
       "match_input_image", "1:1", "16:9", "9:16", "4:3", "3:4",
       "3:2", "2:3", "4:5", "5:4", "21:9", "9:21", "2:1", "1:2"
     ]).optional(),
     output_format: z.enum(["png", "jpg"]).optional(),
     safety_tolerance: z.number().int().min(0).max(2).optional(),
     seed: z.number().int().optional(),
     prompt_upsampling: z.boolean().optional()
   })
   ```

3. ✅ **Hardcode these values** for this model and do not show UI selectors:
   - `output_format = "png"`
   - `safety_tolerance = 2`

4. ✅ **Default the aspect ratio to `"match_input_image"`** when this model is selected.
   - Do this using a `useEffect` in `EditForm.tsx` or similar.

5. ✅ **Ensure correct model slug is used** when submitting the API call:
   ```ts
   slug: "black-forest-labs/flux-kontext-max"
   ```

6. ✅ **Model selector should only include these two options** in the Edit tab:
   - `gpt-image-1`
   - `flux-kontext-max`
   Use the same `AIModelSelector` component as in the Create tab for consistent design.

⚠️ Do not change or affect how the GPT-image-1 model works. It must continue functioning as it currently does without any changes.

Please test by selecting "flux-kontext-max", uploading a valid image, and submitting a simple prompt. The model call should now succeed without errors.
```